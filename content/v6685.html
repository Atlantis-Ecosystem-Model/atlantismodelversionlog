<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Atlantis Ecosystem Model log - 6685</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../content/v6683.html" rel="next">
<link href="../content/v6688.html" rel="prev">
<link href="../images/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/v6685.html">v6685</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="https://user-images.githubusercontent.com/11339490/273006704-6d0c140d-c067-485f-848c-aad55d5584db.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://user-images.githubusercontent.com/11339490/272713181-58a7442b-f4df-4987-9afe-cb4702236a8f.jpg" rel="" title="Atlantis Ecosystem Model" class="quarto-navigation-tool px-1" aria-label="Atlantis Ecosystem Model"><i class="bi bi-globe"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/v6691.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">v6691</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/v6690.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">v6690</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/v6688.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">v6688</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/v6685.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">v6685</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/v6683.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">v6683</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">6685</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><img width="30" alt="image" src="https://user-images.githubusercontent.com/11339490/272713181-58a7442b-f4df-4987-9afe-cb4702236a8f.jpg"></p>
<p><strong>Atlantis model used:</strong> Atlantis Model for Puget Sound https://github.com/hmorzaria/psatlantismodel commit 87031b7</p>
<p><strong>Atlantis revision comments</strong></p>
<p><strong>Version 6685</strong></p>
<p><strong>Date pulled:</strong> September 27, 2023</p>
<p><strong>OS:</strong> Ubuntu 18.04.6 LTS</p>
<p><strong>Environment:</strong> Linux</p>
<p><strong>Notes</strong></p>
<ul>
<li>Function CKsimulator is returning an error in atSS3DataGen.c commented out lines 85-89</li>
</ul>
<p><code>/* if(bm-&gt;CloseKinEst-&gt;UseCloseKin &amp;&amp; FunctGroupArray[groupIndex].isCloseKin) {             GetCloseKinNum(bm, groupIndex, yearIndex);             CKsimulator(bm, groupIndex, yearIndex);             bm-&gt;CloseKinEst[groupIndex].nCKsampled++;         } */</code></p>
<p><strong>Model behavior</strong></p>
<p>Code compiled. Segmentation fault ~day 200</p>
<hr>
<p><strong>SVN commit message</strong></p>
<p>Adding PGMSY and aging of contaminants</p>
<p>Changed paths: <code>M /Atlantis/trunk/atlantis/ConvertAtlantis/atAssesstoXML.c    M /Atlantis/trunk/atlantis/ConvertAtlantis/atCreateXML.c    M /Atlantis/trunk/atlantis/ConvertAtlantis/atRunXML.c    M /Atlantis/trunk/atlantis/atSS3Link/atSS3DataGen.c    M /Atlantis/trunk/atlantis/atSS3Link/atSS3LinkIO.c    M /Atlantis/trunk/atlantis/atassess/atAssessTierSetup.c    M /Atlantis/trunk/atlantis/atassess/atassessParamIO.c    M /Atlantis/trunk/atlantis/atecology/additionalTracer.c    M /Atlantis/trunk/atlantis/atecology/atContaminants.c    M /Atlantis/trunk/atlantis/atecology/atGroupProcesses.c    M /Atlantis/trunk/atlantis/atecology/atannualbiology.c    M /Atlantis/trunk/atlantis/atecology/atbiolmessage.c    M /Atlantis/trunk/atlantis/atecology/atbiolsetup.c    M /Atlantis/trunk/atlantis/atecology/atdemography.c    M /Atlantis/trunk/atlantis/atecology/atecology.c    M /Atlantis/trunk/atlantis/atecology/atmigration.c    M /Atlantis/trunk/atlantis/atecology/atmovement.c    M /Atlantis/trunk/atlantis/atecology/include/atContaminants.h    M /Atlantis/trunk/atlantis/atharvest/atHarvest.c    M /Atlantis/trunk/atlantis/atharvest/atHarvestParamIO.c    M /Atlantis/trunk/atlantis/atharvest/atHarvestSetup.c    M /Atlantis/trunk/atlantis/atharvest/include/atHarvest.h    M /Atlantis/trunk/atlantis/atharvest/include/atHarvestPrivate.h    M /Atlantis/trunk/atlantis/atlantisUtil/atUtil.c    M /Atlantis/trunk/atlantis/atlantisUtil/atUtilGroupIO.c    M /Atlantis/trunk/atlantis/atlantisUtil/atUtilXML.c    M /Atlantis/trunk/atlantis/atlantisUtil/include/atFunctGroup.h    M /Atlantis/trunk/atlantis/atlantismain/include/atlantisboxmodel.h    M /Atlantis/trunk/atlantis/atmanage/atManageAnnual.c    M /Atlantis/trunk/atlantis/atmanage/atManageTier.c    M /Atlantis/trunk/atlantis/atmanage/atSS3assess.c</code></p>
<hr>
<p><strong>Detailed comparison with previous version</strong> Left is new version, right is old version. Versions are separated by |</p>
<p>Versions compared 6685 6681</p>
<p>` FILE COMPARED atassess/atassess_2013.vcxproj.bec</p>
<p>FILE COMPARED atassess/atassessParamIO.c &lt; //Initialise_PGMSY(bm); &lt; &lt; if (speciesParamStructArray[sp].paramType == SP_I | if (FunctGroupArray[sp].speciesParams[MultispAsse if ((FunctGroupArray[sp].speciesParams[Multis | bm-&gt;PGMSY_on = TRUE; bm-&gt;PGMSY_on = TRUE; | // Make sure the R file is in place // Make sure the R file is in place &lt; fprintf(bm-&gt;logFile,“Set PGMSY_on as %s h | } | if ((FunctGroupArray[sp].isFished == TRUE) &amp;&amp; (b } | bm-&gt;RBCestimation.earliestYr = bm-&gt;RBCestimat if ((FunctGroupArray[sp].isFished == TRUE) &amp; &lt; bm-&gt;RBCestimation.earliestYr = bm-&gt;RBCest &lt; } &lt; &gt; Util_XML_Read_Species_RBCParam(bm, fileName, childGroupin &lt; &lt;</p>
<p>FILE COMPARED atassess/atAssessTierSetup.c fprintf(bm-&gt;logFile, “Initiaised propcatch, propcatch &lt; &lt; &gt; printf(”%s free got to here A“, FunctGroupArray[gro &gt; &gt; printf(”%s free got to here B“, FunctGroupArray[gro &gt;<br>
&gt; printf(”%s free got to here C“, FunctGroupArray[gro &gt; &gt; printf(”%s free got to here C1“, FunctGroupArra &gt;<br>
&gt; printf(”%s free got to here C2“, FunctGroupArra &gt;<br>
&gt; printf(”%s free got to here C3“, FunctGroupArra &gt;<br>
&gt; printf(”%s free got to here C4“, FunctGroupArra &gt;<br>
&gt;<br>
&gt; printf(”%s free got to here D“, FunctGroupArray &gt; printf(”%s free got to here E“, FunctGroupArray[gro &gt; &gt; printf(”%s free got to here F“, FunctGroupArray[gro &gt;<br>
&gt; printf(”%s free got to here G“, FunctGroupArray[gro &gt;<br>
&gt; printf(”%s free got to here H“, FunctGroupArray[gro &gt;<br>
&gt; printf(”%s free got to here I“, FunctGroupArray[gro &gt; &gt; printf(”%s free got to here J“, FunctGroupArray[gro &gt;<br>
&gt; if(bm-&gt;RBCestimation.Catch_by_Metier) &gt; free4d(bm-&gt;RBCestimation.Catch_by_Metier); if(bm-&gt;RBCestimation.Catch_by_Metier) &lt; free4d(bm-&gt;RBCestimation.Catch_by_Metier); &lt; &lt; int nLen, nt, mid; | int nLen, nt; &gt; /* TODO: FIX - Filler on metiers to fisheries - read mid = bm-&gt;RBCestimation.speciesRPFleetToMetier[m] | bm-&gt;RBCestimation.speciesMetierToRPFleet[groupInd bm-&gt;RBCestimation.speciesMetierToRPFleet[groupInd | bm-&gt;RBCestimation.speciesRPFleetToMetier[m][group strcpy(bm-&gt;RBCestimation.metierArray[mid].metierC | strcpy(bm-&gt;RBCestimation.metierArray[m].metierCod bm-&gt;RBCestimation.metierArray[mid].PGMSYlinks = P | bm-&gt;RBCestimation.metierArray[m].PGMSYlinks = PGM</p>
<p>FILE COMPARED atassess/atattribute.c</p>
<p>FILE COMPARED atassess/atclassical.c</p>
<p>FILE COMPARED atassess/atdatareading.c</p>
<p>FILE COMPARED atassess/atdiet.c</p>
<p>FILE COMPARED atassess/atindices.c</p>
<p>FILE COMPARED atassess/atnetwork.c</p>
<p>FILE COMPARED atassess/atsample.c</p>
<p>FILE COMPARED atassess/atsamplesetup.c</p>
<p>FILE COMPARED atassess/atsolve.c</p>
<p>FILE COMPARED atassess/atsurvey.c</p>
<p>FILE COMPARED atassess/atwriting.c</p>
<p>FILE COMPARED atassess/doolittle.c</p>
<p>FILE COMPARED atassess/unit_lower_triangular.c</p>
<p>FILE COMPARED atassess/upper_triangular.c</p>
<p>FILE COMPARED atbrokerlink/atBrokerLinkInit.c</p>
<p>FILE COMPARED atbrokerlink/Deserialiser.c</p>
<p>FILE COMPARED atbrokerlink/ImportExportData.c</p>
<p>FILE COMPARED atbrokerlink/LinkageInterface.c</p>
<p>FILE COMPARED atbrokerlink/network.c</p>
<p>FILE COMPARED atbrokerlink/NetworkError.c</p>
<p>FILE COMPARED atbrokerlink/requests.pb-c.c</p>
<p>FILE COMPARED atbrokerlink/responses.pb-c.c</p>
<p>FILE COMPARED atCLAMLink/atCLAMComm.c</p>
<p>FILE COMPARED atCLAMLink/atCLAMImplement.c</p>
<p>FILE COMPARED atCLAMLink/atCLAMLink.c</p>
<p>FILE COMPARED atCLAMLink/atCLAMLinkIO.c</p>
<p>FILE COMPARED atCLAMLink/atCLAMLinkSetup.c</p>
<p>FILE COMPARED atCLAMLink/atCLAMManage.c</p>
<p>FILE COMPARED atecology/additionalTracer.c &gt; //double Calculate_Phosphorus_Uptake(MSEBoxModel <em>bm, int gui &gt; // &gt; // double uptake; &gt; // //double P0 = FunctGroupArray[guild].speciesParams[P_ &gt; // //double P1 = FunctGroupArray[guild].speciesParams[P_ &gt; // double PValue = biomass </em> PRatio; &gt; // //double growth =PValue * mum * hN_sp * hI_sp * eddy_ &gt; // &gt; // uptake = grow * PRatio; //PValue * mum * hN_sp * hI_s &gt; // //uptake = growth * FunctGroupArray[guild].speciesPar &gt; // &gt; // /* Save the uptake value for later */ &gt; // FunctGroupArray[guild].uptakeP = uptake; &gt; // &gt; // return uptake; &gt; //} &gt; |<br>
&gt;<br>
fprintf(bm-&gt;logFile, “%s-%d B &lt; &lt; |<br>
//if(sp == 5 &amp;&amp; tracerIndex = &lt; |<br>
|<br>
<strong>/ |<br>
&gt;<br>
&gt;<br>
&gt;<br>
|<br>
|<br>
FunctGroupArray[ |<br>
&gt;<br>
|<br>
} els | }else |<br>
&gt;<br>
&gt;<br>
&gt;<br>
|<br>
|<br>
&gt;<br>
&gt;<br>
|<br>
&gt;<br>
&gt;<br>
|<br>
&gt;<br>
|<br>
&gt; &gt;<br>
&gt;<br>
&gt;<br>
&gt; &gt;<br>
&gt; &gt; &gt;<br>
&gt;<br>
|<br>
/</strong>/ | /<strong> //if(amount &gt; 0 &amp;&amp; tracerIndex == c_id &amp;&amp; toG | if(amount &gt; 0 &amp;&amp; tracerIndex == c_id &amp;&amp; toGui if(amount &gt; 0 &amp;&amp; toGuild == 0){ &lt; } | }</strong>/ /**/ &lt;</p>
<p>FILE COMPARED atecology/atannualbiology.c &lt; /** &lt; //if (do_debug &amp;&amp; (bm-&gt;which_check == species)) { &lt; if (species == 33) { &lt; fprintf(bm-&gt;logFile,“Doing %s stock %d, ngene &lt; FunctGroupArray[species].groupCode, stock_id, &lt; EMBRYO[species].Larvae[stock_id][ngene][qid]) &lt; } &lt; <strong>/ &lt; &lt; &lt; /</strong> &lt; //if (do_debug &amp;&amp; (bm-&gt;which_check == species)) { &lt; if (species == 33) { &lt; fprintf(bm-&gt;logFile,”Initialisation, species %s, rec &lt; } &lt; **/ &lt;</p>
<p>FILE COMPARED atecology/atbiolmessage.c &gt; /* Write time */ &gt; fprintf(fid, “Time: %e”, bm-&gt;dayt); &gt;</p>
<p>FILE COMPARED atecology/atbiology.c</p>
<p>FILE COMPARED atecology/atBiologyXMLParamIO.c bm-&gt;flagtempdepend_move = (int) Util_XML_Read_Value(f | bm-&gt;flagtempdepend = (int) Util_XML_Read_Value(fileNa bm-&gt;flagtempdepend_reprod = (int) Util_XML_Read_Value(fil &lt; if (bm-&gt;flagtempdepend_move) { | if (bm-&gt;flagtempdepend) { if (bm-&gt;flagtempdepend_reprod) { | if (bm-&gt;flagtempdepend) { MIGRATION[sp].ReprodAllowed = Util_Alloc_Init_2D_Int( &lt; &lt; MIGRATION[sp].ReprodAllowedPrm = Util_Alloc_Init_2D_I |</p>
<p>FILE COMPARED atecology/atbiolsetup.c foundchrt = 0; &lt; foundchrt = chrt; &lt; i_free2d(MIGRATION[sp].ReprodAllowed); &lt; i_free2d(MIGRATION[sp].ReprodAllowedPrm); &lt; totden_check = Util_Alloc_Init_2D_Double(totdensize, bm-&gt; &lt;</p>
<p>FILE COMPARED atecology/atbiolUtil.c</p>
<p>FILE COMPARED atecology/atbiophysics.c</p>
<p>FILE COMPARED atecology/atBuildTracer.c</p>
<p>FILE COMPARED atecology/atcalibtools.c</p>
<p>FILE COMPARED atecology/atContaminants.c int Group_Transfer_Contaminant(MSEBoxModel <em>bm, BoxLayerValue | int Group_Transfer_Contaminant(MSEBoxModel </em>bm, BoxLayerValue double cGroupLevel, transfer, totalBiomass, amt_excha | double cGroupLevel, transfer, totalBiomass, propEaten /* If the amount transfered is zero don’t do anything | /* If the amount eaten is zero don’t do anything if (amountTransfer == 0.0) | if (amountEaten == 0.0) quit(“Group_Transfer_Contaminant - from group %s-%d, | quit(”Group_Transfer_Contaminant - to group %s-%d, fr /* Work out the proportion transfered <em>/ | /</em> Work out the proportion eaten <em>/ amountTransfer = amountTransfer / (totalBiomass + sma | propEaten = amountEaten / (totalBiomass + sma if(!initialBiomass) // No actual transfer possible | if(!initialBiomass) // No actual consumption possibl amountTransfer = amountTransfer / (totalBiomass + sma | propEaten = amountEaten / (totalBiomass + sma if (amountTransfer &gt; 1.0) { | if (propEaten &gt; 1.0) { amountTransfer = 1.0; | propEaten = 1.0; if ((isnan(propTransfer)) || (propTransfer &gt; 1.0)) { | if ((isnan(propEaten)) || (propEaten &gt; 1.0)) { fprintf(stderr, “Group_Transfer_Contaminant g | fprintf(stderr,”Group_Transfer_Contaminant g if ((isnan(propTransfer)) || (propTransfer &gt; 1.0) | if ((isnan(propEaten)) || (propEaten &gt; 1.0)) { fprintf(stderr, “Time: %e box %d-%d case %d G | fprintf(stderr,”Time: %e box %d-%d case %d G //transfer = cGroupLevel </em> amountTran | transfer = cGroupLevel * propEaten / transfer = cGroupLevel * amountTransfer; // Actu &lt; quit(“Group_Transfer_Contamin | quit(”Group_Transfer_Contamin FunctGroupArr | FunctGroupArr fprintf(bm-&gt;logFile, “prey = %s, to %s-%d | fprintf(bm-&gt;logFile,”prey = %s, to %s-%d amt_exchanged = amountTransfer * dtsz; | amt_exchanged = amountEaten * dtsz; &lt; } &lt; &lt; void Age_Contaminants_Store(MSEBoxModel <em>bm, int sp, int coho &lt; int cIndex, cid; &lt; double cGroupLevel; &lt; &lt; for (cIndex = 0; cIndex &lt; bm-&gt;num_contaminants; cIndex++) &lt; cid = FunctGroupArray[sp].contaminantTracers[cohort][ &lt; cGroupLevel = bm-&gt;boxes[bm-&gt;current_box].tr[bm-&gt;curre &lt; FunctGroupArray[sp].agingContam[nextcid][cIndex] = cG &lt; bm-&gt;boxes[bm-&gt;current_box].tr[bm-&gt;current_layer][cid] &lt; // Remove it here so transferred to next class with a &lt; &lt; } &lt; } &lt; &lt; void Age_Contaminants_Update(MSEBoxModel </em>bm, int sp, int coh &lt; int cIndex, cid; &lt; double cGroupLevel; &lt; &lt; for (cIndex = 0; cIndex &lt; bm-&gt;num_contaminants; cIndex++) &lt; cid = FunctGroupArray[sp].contaminantTracers[cohort][ &lt; cGroupLevel = bm-&gt;boxes[bm-&gt;current_box].tr[bm-&gt;curre &lt; &lt; bm-&gt;boxes[ij].tr[k][cid] += FunctGroupArray[sp].aging &lt; // Add stuff being transferred &lt; } &lt;</p>
<p>FILE COMPARED atecology/atcoral.c</p>
<p>FILE COMPARED atecology/atdemography.c void Update_Aging_Numbers(MSEBoxModel <em>bm, int species, int c | void Update_Aging_Numbers(MSEBoxModel </em>bm, int species, int c double Get_Numbers_Aging(MSEBoxModel <em>bm, int species, int co | double Get_Numbers_Aging(MSEBoxModel </em>bm, int species, int co double dennow, CHLa, KWSR_sp, KWRR_sp, enviro_scalar, thi | double dennow, CHLa, KWSR_sp, KWRR_sp, enviro_scalar, dennow = Get_Numbers_Aging(bm, specie | dennow = Get_Numbers_Aging(bm, specie Update_Aging_Numbers(bm, species, coh | Update_Aging_Numbers(bm, species, coh int flag_allow_spawn = 1; &lt; flag_allow_spawn = MIGRATION[species].ReprodA | if (MIGRATION[species].DEN[cohort][mid] &gt; bm- if (flag_allow_spawn &amp;&amp; (MIGRATION[species].D &lt; if (species == 33) { | if (species == 52) { fprintf(llogfp, “Time: %e, %s cohort | fprintf(llogfp,”Time: %e, %s cohort //if (do_debug ) { | if (do_debug ) { if (species == 33) { | fprintf(llogfp, “Time: %e, %s , cohor fprintf(llogfp,”Time: %e, %s cohort &lt; if (species == 33) { | if ((species == 33) || (species == 32)) { if (species == 33) { | //if (species == 33) { &gt; if (species == 52) { temprec = (recSTOCK[species][stock_id | temprec = (recSTOCK[species][stock_id &gt; * stock_prop[species] if (species == 33) { | if ((species == 33) || (species == 32)) { if (species == 33) { | if ((species == 33) || (species == 32)) { &lt; if(!bm-&gt;flagtempdepend_reprod) { // Have turned off tempe &lt; if(temp_sensitive_sp &amp;&amp; bm-&gt;newmonth) { &lt; warn(“Time: %e Zeroing temperature sensitivity fo &lt; } &lt; temp_sensitive_sp = 0; &lt; } &lt; &lt; if (species == 33) { | //if (species == 33) { &gt; if ((species == 33) || (species == 32)) { if (species == 33) { | //if (species == 33) { //if (species == 52) { | if (species == 52) { /** | //fprintf(llogfp,”Time: %e, get settlers %s if (species == 33) { &lt; fprintf(llogfp, “Time: %e, get settlers %s bo &lt; } &lt; <strong>/ &lt; if (species == 33) { | if (species == 52) { </strong>/ | /**/ double Get_Numbers_Aging(MSEBoxModel <em>bm, int species, int co | double Get_Numbers_Aging(MSEBoxModel </em>bm, int species, int co &lt; void Update_Aging_Numbers(MSEBoxModel <em>bm, int species, int c | void Update_Aging_Numbers(MSEBoxModel </em>bm, int species, int c &lt; if(bm-&gt;track_contaminants){ &lt; Age_Contaminants_Store(bm, species, cohort, nextc &lt; } &lt; &lt; if(bm-&gt;track_contaminants &lt; Age_Contaminants_Upda &lt; } &lt; double flag_allow_spawn = 1.0; &lt; flag_allow_spawn = (double)(MIGRATION[species].Re | MigSpawn = spawn_active * prop_mat * MigSpawn = flag_allow_spawn * spawn_a &lt;</p>
<p>FILE COMPARED atecology/atdiversity.c</p>
<p>FILE COMPARED atecology/atecology_2013.vcxproj.bec</p>
<p>FILE COMPARED atecology/atecology.c boxLayerInfo- | boxLayerInfo- &gt;</p>
<p>FILE COMPARED atecology/atecologyts.c</p>
<p>FILE COMPARED atecology/atexternalpop.c</p>
<p>FILE COMPARED atecology/atExternalScalar.c</p>
<p>FILE COMPARED atecology/atfluxbreakdown.c</p>
<p>FILE COMPARED atecology/atForcedMovement.c</p>
<p>FILE COMPARED atecology/atGroupProcesses.c // TODO: I think this is a bug and hangover from | if (bm-&gt;flag_replicated_old_PPmort) { | /* Zero out the mortality value so we /* Zero out the mortality value so we can use | FunctGroupArray[guild].mortality[0] = FunctGroupArray[guild].mortality[0] = 0.0; &lt; } &lt; boxLayerInfo-&gt;DetritusProd[habitatTyp | boxLayerInfo-&gt;DetritusProd[habitatTyp //fprintf(bm-&gt;logFile,“Calling Group_Transfer | //fprintf(bm-&gt;logFile,”Calling Group_Transfer Group_Transfer_Contaminant(bm, boxLayerInfo, | Group_Transfer_Contaminant(bm, boxLayerInfo, // TODO: I think this is a bug and hangover from | /* Zero out the mortality value so we if (bm-&gt;flag_replicated_old_PPmort) { | FunctGroupArray[guild].mortality[0] = /* Zero out the mortality value so we can use | FunctGroupArray[guild].mortality[0] = 0.0; &lt; } &lt; &lt; boxLayerInfo-&gt;DetritusProd[WC][DLdet_ | boxLayerInfo-&gt;DetritusProd[WC][DLdet_ Group_Transfer_Contaminant(bm, boxLayerInfo, | Group_Transfer_Contaminant(bm, boxLayerInfo,</p>
<p>FILE COMPARED atecology/atIceProcesses.c</p>
<p>FILE COMPARED atecology/atImposeRecruit.c</p>
<p>FILE COMPARED atecology/atLandProcess.c</p>
<p>FILE COMPARED atecology/atmacrophytes.c</p>
<p>FILE COMPARED atecology/atmigration.c | MIGRATION[sp].ReprodAllowed[cohort][c &lt; MIGRATION[sp].ReprodAllowed[cohort][curre &lt; if ((sp == 33) || ((sp &gt; 8) &amp;&amp; (sp &lt; 12))) { | //if ((sp == 33) || ((sp &gt; 8) &amp;&amp; (sp &lt; 12))) { } | //} /<strong>/ | /</strong> //if (bm-&gt;debug &amp;&amp; (bm-&gt;which_check == sp | if (bm-&gt;debug &amp;&amp; (bm-&gt;which_check == sp)) if (sp == 33) { &lt; /<strong>/ | </strong>/ |<br>
/<strong>/ | //fprintf(llogfp,“%s-%d age_away: %d vs num_aging_eve if (sp == 33) { &lt; fprintf(llogfp,”%s-%d age_away: %d vs num_aging_e &lt; } &lt; /</strong>/ &lt; /** | /* //if ((sp == 48) || (sp == 63) || (sp == 64)) | if ((sp == 48) || (sp == 63) || (sp == 64)) { if (sp == 33) { | fprintf(bm-&gt;logFile, “Init_Migration_Age_ fprintf(bm-&gt;logFile,”Init_Migration_Age_ &lt; **/ | */ fprintf(bm-&gt;logFile, “Init_Migration_Age_ | fprintf(bm-&gt;logFile,”Init_Migration_Age_</p>
<p>FILE COMPARED atecology/atmovement.c if (bm-&gt;flagtempdepend_move || bm-&gt;flagsaltdepend || | if (bm-&gt;flagtempdepend || bm-&gt;flagsaltdepend || bm-&gt;f Util_Init_2D_Double(totden_check, bm-&gt;K_num_tot_sp, bm-&gt;K &lt; //sp = bm-&gt;which_check; | if ((bm-&gt;which_check &lt;= bm-&gt;K_num_tot_sp)){ sp = 33; | if (FunctGroupArray[bm-&gt;which_check].isVertebrate == if ((sp &lt;= bm-&gt;K_num_tot_sp)){ &lt; if (FunctGroupArray[sp].isVertebrate == TRUE) { &lt; for (n = 0; n | for (n = 0; n den = | den = fprintf(llogfp, “START Time: %e, | fprintf(llogfp,”START Time: %e, | if (verbose &gt; 0) | for (sp = 0; sp &lt; bm-&gt;K_num_tot_sp; sp++) { printf(“Doing vertebrate movement”); &lt; &lt; for (sp = 0; sp &lt; bm-&gt;K_num_tot_sp; sp++) { &lt; /** | /<strong> if (sp == 33) { | if (sp == 35) { /</strong> | /<strong>/ if (sp == 33) { | if ((sp == 33) || (sp == 32)) { </strong>/ | /<strong>/ if (sp == 33) { | if (sp == 35) { </strong>/ | **/ if (sp == 33) { | if (sp == 35) { &lt; if (verbose &gt; 0) &lt; printf(“Doing movement for %s”, FunctGroupArray &lt; &lt; | /* Normalise proportion of total abundance in eac | /* Normalise proportion of total abun /* If non present (less than one individual prese | /* If non present (less than one indi | for (n = 0; n &lt; FunctGroupArray[sp].numCohortsXnu | for (n = 0; n &lt; FunctGroupArray[sp].n | /* Note that this use of growth rate and clearanc | /* Note that this use of growth rate | age_mat = (int) (FunctGroupArray[sp].speciesParam | age_mat = (int) (FunctGroupArray[sp]. if(!bm-&gt;flagtempdepend_move) { // Have turned off &lt; if(temp_sensitive_sp &amp;&amp; bm-&gt;newmonth) { &lt; warn(“Time: %e Zeroing temperature sensit &lt; } &lt; temp_sensitive_sp = 0; &lt; } &lt; &lt; /* Replicate old bec_dev results on existing mode | /* Replicate old bec_dev results on e bearlive = (int) (FunctGroupArray[sp].speciesPara | bearlive = (int) (FunctGroupArray[sp] /* Make parameter adjustments due to acidificatio | /* Make parameter adjustments due to | if (sp_ddepend_move &gt; perscribed_move || FunctGro | if (sp_ddepend_move &gt; perscribed_move /* If using ‘sticky’ density dependent movement s | /* If using ‘sticky’ density dependen /* Do final summation (in all cases) <em>/ | /</em> Do final summation (in all cases) | | /* Final movement allocations - including migrati | /* Final movement allocations - inclu if (sp == 33) { | if ((sp == 33) || &gt; if (sp == 33) { | if ((sp == 33) || if (sp == 33) { | if ((sp == 33) || if (sp == 33) { | if ((sp == 33) || totden_check[sp][n] += totden[sp] &lt; /* Finalise migration now all boxes iterated thro | /* Finalise migration now all boxes i //sp = bm-&gt;which_check; | if ((bm-&gt;which_check &lt;= bm-&gt;K_num_tot_sp)){ sp = 33; | if (FunctGroupArray[bm-&gt;which_check].isVertebrate == if (sp &lt;= bm-&gt;K_num_tot_sp){ &lt; if (FunctGroupArray[sp].isVertebrate == TRUE) { &lt; for (n = 0; n &lt; FunctGroupArray[sp].n | for (n = 0; n &lt; FunctGroupArray[bm-&gt;w den = FunctGroupArray[sp].NumsTra | den = FunctGroupArray[bm-&gt;which_c fprintf(llogfp,”END END Time: %e | fprintf(llogfp, “END END Time: %e &lt; if (verbose &gt; 0) | if (bm-&gt;flagtempdepend || bm-&gt;flagsaltdepend || bm-&gt;flagO printf(”Doing invertebrate movement“); &lt; &lt; if (bm-&gt;flagtempdepend_move || bm-&gt;flagsaltdepend || bm-&gt; &lt; &gt; if (verbose) &gt; printf(”Dealing with invertebrate movement” &gt; if(!bm-&gt;flagtempdepend_move) { // Have turned off tem &lt; if(temp_sensitive_sp &amp;&amp; bm-&gt;newmonth) { &lt; warn(“Time: %e Zeroing temperature sensitivit &lt; } &lt; temp_sensitive_sp = 0; &lt; } &lt; &lt; if(!bm-&gt;flagtempdepend_move) { // Have turned off tempera &lt; if(temp_sensitive_sp &amp;&amp; bm-&gt;newmonth) { &lt; warn(”Time: %e Zeroing temperature sensitivity fo &lt; } &lt; temp_sensitive_sp = 0; &lt; } &lt; &lt; if (bm-&gt;flagtempdepend_move) { | if (bm-&gt;flagtempdepend) { &lt; if(!bm-&gt;flagtempdepend_move) { // Have turned off tempera &lt; if(temp_sensitive_sp &amp;&amp; bm-&gt;newmonth) { &lt; warn(“Time: %e Zeroing temperature sensitivity fo &lt; } &lt; temp_sensitive_sp = 0; &lt; } &lt; &lt; if(!bm-&gt;flagtempdepend_move) { // Have turned off tempera &lt; if(temp_sensitive_sp &amp;&amp; bm-&gt;newmonth) { &lt; warn(”Time: %e Zeroing temperature sensitivity fo &lt; } &lt; temp_sensitive_sp = 0; &lt; } &lt;</p>
<p>FILE COMPARED atecology/atNutrient.c</p>
<p>FILE COMPARED atecology/atPhysChemIO.c</p>
<p>FILE COMPARED atecology/atprocess.c</p>
<p>FILE COMPARED atecology/atq10.c</p>
<p>FILE COMPARED atecology/attime.c</p>
<p>FILE COMPARED atecology/atvertprocesses.c</p>
<p>FILE COMPARED atecology/dump.c</p>
<p>FILE COMPARED atecology/init.c</p>
<p>FILE COMPARED ateconomic/ateconeffort.c</p>
<p>FILE COMPARED ateconomic/ateconhelp.c</p>
<p>FILE COMPARED ateconomic/ateconindicator.c</p>
<p>FILE COMPARED ateconomic/ateconio.c</p>
<p>FILE COMPARED ateconomic/ateconomic_2013.vcxproj.bec</p>
<p>FILE COMPARED ateconomic/ateconomic.c</p>
<p>FILE COMPARED ateconomic/atEconomicAnnual.c</p>
<p>FILE COMPARED ateconomic/ateconomicsetup.c</p>
<p>FILE COMPARED ateconomic/atEconomicUtil.c</p>
<p>FILE COMPARED ateconomic/ateconParamIO.c</p>
<p>FILE COMPARED ateconomic/ateconresponse.c</p>
<p>FILE COMPARED ateconomic/ateconts.c</p>
<p>FILE COMPARED ateconomic/ateffortquota.c</p>
<p>FILE COMPARED ateconomic/atquota.c</p>
<p>FILE COMPARED atharvest/atharvest_2013.vcxproj.bec</p>
<p>FILE COMPARED atharvest/atHarvest.c |<br>
|<br>
stage = FunctGroupArray[sp].cohor &lt; sel = | sel = sel = bm-&gt;selectivity[sp][nf][stage] + addlsm | sel = selectivity[sp][nf][stage] + addlsm; sel_lsm = bm-&gt;selectivity[sp][nf][juv | sel_lsm = selectivity[sp][nf][juv_id] sel = bm-&gt;selectivity[sp][nf] | sel = selectivity[sp][nf][adu</p>
<p>FILE COMPARED atharvest/atHarvestAnnual.c</p>
<p>FILE COMPARED atharvest/atHarvestCatch.c</p>
<p>FILE COMPARED atharvest/atHarvestDiscards.c</p>
<p>FILE COMPARED atharvest/atHarvestImposedCatch.c</p>
<p>FILE COMPARED atharvest/atHarvestIndex.c</p>
<p>FILE COMPARED atharvest/atHarvestIO.c</p>
<p>FILE COMPARED atharvest/atHarvestParamIO.c readGroupAgeGroupFisheryParamXML(bm, fileName | readGroupAgeGroupFisheryParamXML(bm, fileName readGroupAgeGroupFisheryParamXML(bm, fileName | readGroupAgeGroupFisheryParamXML(bm, fileName</p>
<p>FILE COMPARED atharvest/atHarvestSetup.c bm-&gt;selectivity[sp][i | selectivity[sp][i][b] free3d(bm-&gt;selectivity); | free3d(selectivity); bm-&gt;selectivity = Util_Alloc_Init_3D_Double(bm-&gt;K_num | selectivity = Util_Alloc_Init_3D_Double(2, bm-&gt;K_num_</p>
<p>FILE COMPARED atharvest/atHarvestTS.c</p>
<p>FILE COMPARED atimplementation/atimplementation_2013.vcxproj.bec</p>
<p>FILE COMPARED atimplementation/atImplementationAnnual.c</p>
<p>FILE COMPARED atimplementation/atImplementationParamIO.c</p>
<p>FILE COMPARED atimplementation/atImplementationSetup.c</p>
<p>FILE COMPARED atlantismain/atlantismain.c Ecology_Update_Move_Entry(bm, logfp); // Not in fish &lt; &gt; Ecology_Update_Move_Entry(bm, logfp);</p>
<p>FILE COMPARED atlantismain/atlantisMerged.pc</p>
<p>FILE COMPARED atlantisUtil/atlantisUtil_2013.vcxproj.bec</p>
<p>FILE COMPARED atlantisUtil/atUtil.c sprintf(paramStrings[q10_optimal_temp_id], “%s”, “q10_opt | sprintf(paramStrings[q10_optimal_temp_id],”%s”, “q10 &gt; sprintf(paramStrings[q10_method_id],”%s”, “q10_metho sprintf(RBCParamStrings[trigger_threshold_id],”%s”, “tri &lt;</p>
<p>FILE COMPARED atlantisUtil/atUtilArray.c</p>
<p>FILE COMPARED atlantisUtil/atUtilFisheryIO.c</p>
<p>FILE COMPARED atlantisUtil/atUtilFisheryXML.c</p>
<p>FILE COMPARED atlantisUtil/atUtilGroupIO.c FunctGroupArray[i].agingContam = Util_Alloc_Init_ &lt; free2d(FunctGroupArray[i].agingContam); &lt;</p>
<p>FILE COMPARED atlantisUtil/atUtilhelp.c</p>
<p>FILE COMPARED atlantisUtil/atUtilIO.c</p>
<p>FILE COMPARED atlantisUtil/atUtilUnix.c</p>
<p>FILE COMPARED atlantisUtil/atUtilXML.c { “FLAG_Q10_METHOD”, q10_method_id, “^q10_met | {”FLAG_Q10_METHOD”, q10_method_id, “^q10_met</p>
<pre><code>    { "FLAG_TRIGTHRESH", trigger_threshold_id, "^trigger_
                              &lt;</code></pre>
<p>FILE COMPARED atlink/atComms.c</p>
<p>FILE COMPARED atlink/atlinkconversion.c</p>
<p>FILE COMPARED atlink/atlinkexport.c</p>
<p>FILE COMPARED atlink/atlinkimport.c</p>
<p>FILE COMPARED atmanage/atCloseKin.c</p>
<p>FILE COMPARED atmanage/atmanage_2013.vcxproj.bec</p>
<p>FILE COMPARED atmanage/atManage.c</p>
<p>FILE COMPARED atmanage/atManageAnnual.c &gt; // Call PGMSY first as does own species assessments - so &gt; if (bm-&gt;PGMSY_on) { &gt; Call_PGMSY(bm, year, llogfp); &gt; } &gt;<br>
// Under single species assessments - for single spec | if ((int)(bm-&gt;RBCestimation.RBCspeciesParam[sp][Multi if((bm-&gt;UsingRAssess == 1) &amp;&amp; (FunctGroupArray[sp].is | // Do nothing as covered in multispecies call - P &gt; } else { &gt; // Under single species assessments &gt; if((bm-&gt;UsingRAssess == 1) &amp;&amp; (FunctGroupArray[sp Do_RAssess(bm, sp, year, llogfp); | Do_RAssess(bm, sp, year, llogfp); quit(“How get here as R link not active so set Us | quit(”How get here as R link not active so se } else if(bm-&gt;useRBCTiers) { | } else if(bm-&gt;useRBCTiers) { CallTierAssessment(bm, sp, year, llogfp); | CallTierAssessment(bm, sp, year, llogfp); } else { | } else { AMS_Tiered_Assessment(bm, sp, llogfp); | AMS_Tiered_Assessment(bm, sp, llogfp); &gt; } |<br>
fprintf(bm-&gt;logFile, “Time: %e year: %d Getting read to d &lt; &lt; if (bm-&gt;PGMSY_on) { &lt; Call_PGMSY(bm, year, llogfp); &lt; } &lt;</p>
<p>FILE COMPARED atmanage/atManageIndex.c</p>
<p>FILE COMPARED atmanage/atManageIO.c</p>
<p>FILE COMPARED atmanage/atManageMPATS.c</p>
<p>FILE COMPARED atmanage/atManageParamIO.c</p>
<p>FILE COMPARED atmanage/atManageSetup.c</p>
<p>FILE COMPARED atmanage/atManageTier.c printf(“Generating data during the non-assessment per | printf(”Generating data“); printf(”Generating data during the assessment period &lt; printf(“Entering assessment rourine for %s”, FunctG &lt; &lt; printf(“Finished assessment process for %s”, FunctG &lt; | double current_catch = 0, tac_change, cpue_ratio; double current_catch = 0, tac_change, cpue_ratio; &lt; | int Nregions = (int)(bm-&gt;RBCestimation.RBCspeciesPara int Nregions = (int)(bm-&gt;RBCestimation.RBCspeciesParam[sp &lt; int nf, nreg, CPUEfleet, assess_flag_sp, nfishery, index1 | int nf, nreg, CPUEfleet, assess_flag_sp, nfishery, in printf(“DoTierAssessment %s with year: %d with nYears: %d | &lt; printf(”Doing Tiered Assessment for %s FunctGroupArra | printf(“Doing Tiered Assessment”); /******* Find total old TAC *******/ | Util_Init_2D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &gt; Util_Init_3D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &gt; Util_Init_1D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &gt; Util_Init_2D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &gt; &gt; /******* Find total old TAC *******/ &lt; printf(“Got here E”); &lt; printf(“Doing Tiered Assessment - Deal with old TAcs and &lt; &lt; if(year &gt; bm-&gt;RBCestimation.RBCspeciesParam[species][Asse | if(bm-&gt;RBCestimation.RBCspeciesParam[species][isTriggerSp | breakout = trigger_species_breakout(bm, species, year // Only do this if after first year of the assessment | if(breakout &gt; 0) { if(bm-&gt;RBCestimation.RBCspeciesParam[species][isTrigg | // Nothing to do as uses tier from speciesParams[ | } else { printf(”Checking trigger breakout for %s“, Func | // Rollover so overwrite tier | tier = sp_rollover; breakout = trigger_species_breakout(bm, species, &lt; if(breakout &gt; 0) { &lt; // Nothing to do as uses tier from speciesPar &lt; } else { &lt; // Rollover so overwrite tier &lt; tier = sp_rollover; &lt; } &lt; printf(”Doing Tiered Assessment - check for rollover“); &lt; &lt; printf(”Doing Tiered Assessment - start assessment of spe &lt; &lt; int nPast = (int)(bm-&gt;RBCestimation.RBCspeciesParam[speci &lt; int InitnYears = bm-&gt;RBCestimation.nFuture + nPast; &lt; &lt; printf(“Doing Tier_averages - initalise popcatch and avpr | /<em> &lt; Util_Init_2D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &lt; Util_Init_3D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &lt; Util_Init_1D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &lt; Util_Init_2D_Double(bm-&gt;RBCestimation.RBCspeciesArray[spe &lt; &lt; /</em> &lt; fprintf(bm-&gt;logFile,”DoMultiStockAssessment Time: %e yea &lt; &lt; fprintf(bm-&gt;logFile, “DoMultiStockAssessment Time &lt; &lt; &lt; printf(”Checking if %s is prevAssessment %e“, FunctGrou &lt; &lt; printf(”About to do Market test for %s“, FunctGroupArra &lt; &lt; &lt; printf(”Doing test for %s - r %d f %d rbcYear: %d &lt; &lt; &lt; printf(“About to do test for %s vs threshold %e for this_ &lt; &lt; if (lastC &gt; (bm-&gt;RBCestimation.RBCspeciesParam[sp][trigge | if (lastC &gt; (bm-&gt;RBCestimation.RBCspeciesParam[sp][trigge } &lt; printf(”About to do print to logfile %s with TACcaptured &lt; &lt; printf(“About to do stock test for %s”, FunctGroupArray &lt; &lt; printf(“About to do 10year test for %s”, FunctGroupArra &lt; &lt; printf(“For %s no incr check and return”, FunctGroupArr &lt; &lt; fprintf(bm-&gt;logFile,“Time: %e year: %d %s CalculateNonInd &lt; &lt; fprintf(bm-&gt;logFile,”Time: %e year: %d %s vs %s I | fprintf(bm-&gt;logFile,“Time: %e year: %d %s Indicat &lt; fprintf(bm-&gt;logFile,”Time: %e year: %d %s avg Indicat &lt;</p>
<p>FILE COMPARED atmanage/atRlink.c</p>
<p>FILE COMPARED atmanage/atRlinkRAssess.c</p>
<p>FILE COMPARED atmanage/atRlinkRBC.c</p>
<p>FILE COMPARED atmanage/atRlinkRedus.c</p>
<p>FILE COMPARED atmanage/atSS3assess.c int Create_Dir_SS3(MSEBoxModel <em>bm, int sp, int year, FILE </em>l &lt; // Name: Create_Dir_SS3 &lt; // Creating a directory for the SS activity - done here to tr &lt; // occur before the write occurs &lt; // &lt; // called by: SS330Assessment &lt; // created: Aug 2023 Beth Fuliton &lt; // &lt; //*********************************************************** &lt; int Create_Dir_SS3(MSEBoxModel <em>bm, int sp, int year, FILE </em>l &lt; &lt; char dirName[STRLEN]; &lt; int ret = 0; &lt; &lt; struct stat st = {0}; &lt; &lt; /* Create directory <em>/ &lt; sprintf(dirName, “%s_SS3_sim_%d_year_%d”, FunctGroupArray &lt; &lt; if (stat(dirName, &amp;st) == -1) { &lt; printf(“Creating %s”, dirName); &lt; ret = mkdir(dirName, 0777); // Was S_IRWXU instead o &lt; } &lt; &lt; /</em> Change directory into the new directory - lets skip th &lt; //pass your path in the function &lt; ret = chdir(dirName); &lt; // if the change of directory was successful it will prin &lt; if (ret &lt; 0) &lt; quit(“SS330Assessment: chdir change of directory to % &lt; else &lt; printf(”SS330Assessment: chdir change of directory to &lt; &lt; <em>/ &lt; &lt; if (ret &lt; 0) { &lt; printf(“Error: %s”, strerror(errno)); &lt; quit(“Create_Dir_SS3: make directory to %s not succes &lt; } &lt; &lt; return ret; &lt; } &lt; &lt; //*********************************************************** &lt; // &lt; // called by: | // // calls: | // called by : // created: Oct 2019 Rich Little | // calls : &gt; // created :Oct 2019 Rich Little printf(”Starting SS330Assessment”); | /</em> Create directory <em>/ &gt; ret = mkdir(dirName, S_IRWXU); &gt; &gt; /</em> Change directory into the new directory <em>/ &gt; //pass your path in the function &gt; ret = chdir(dirName); &gt; /</em>if the change of directory was successful it will print &gt; if (ret &lt; 0) &gt; quit(“SS330Assessment: chdir change of directory to % &gt; else &gt; printf(”SS330Assessment: chdir change of directory to &lt; /* Create directory */ &lt; ret = Create_Dir_SS3(bm, sp, year, llogfp); // Failure t &lt; &lt; // read max convergence criterion | // read max convergence criterion } else { | } else { // read next year+1 catches from report.sso | // read next year+1 catches from report.sso &gt; if (bm-&gt;RBCestimation.RBCspeciesParam[sp][AssessFail_id]) | if (bm-&gt;RBCestimation.RBCspeciesParam[sp][AssessFail_id]) bm-&gt;RBCestimation.RBCspeciesArray[sp].NassessFail++; &lt; &gt;</p>
<p>FILE COMPARED atphysics/atagetracerIO.c</p>
<p>FILE COMPARED atphysics/atbioirrig.c</p>
<p>FILE COMPARED atphysics/atbioturb.c</p>
<p>FILE COMPARED atphysics/atboundary.c</p>
<p>FILE COMPARED atphysics/atdecay.c</p>
<p>FILE COMPARED atphysics/atdeposition.c</p>
<p>FILE COMPARED atphysics/atdiagIO.c</p>
<p>FILE COMPARED atphysics/atdietIO.c</p>
<p>FILE COMPARED atphysics/atepiIO.c</p>
<p>FILE COMPARED atphysics/atfishstatIO.c</p>
<p>FILE COMPARED atphysics/atgas.c</p>
<p>FILE COMPARED atphysics/atgeomIO.c</p>
<p>FILE COMPARED atphysics/athdiff.c</p>
<p>FILE COMPARED atphysics/athydromod.c</p>
<p>FILE COMPARED atphysics/aticeIO.c</p>
<p>FILE COMPARED atphysics/atindex.c</p>
<p>FILE COMPARED atphysics/atLandIO.c</p>
<p>FILE COMPARED atphysics/atparamIO.c bm-&gt;flag_replicated_old_PPmort = (int) Util_XML_Read_Valu &lt; &lt;</p>
<p>FILE COMPARED atphysics/atphysics_2013.vcxproj.bec</p>
<p>FILE COMPARED atphysics/atphysics.c</p>
<p>FILE COMPARED atphysics/atPhysicsModule.c</p>
<p>FILE COMPARED atphysics/atphysIO.c</p>
<p>FILE COMPARED atphysics/atprofile.c</p>
<p>FILE COMPARED atphysics/atreadbm.c</p>
<p>FILE COMPARED atphysics/atsaturation.c</p>
<p>FILE COMPARED atphysics/atsedprops.c</p>
<p>FILE COMPARED atphysics/atsettle.c</p>
<p>FILE COMPARED atphysics/atsourcesink.c</p>
<p>FILE COMPARED atphysics/atsummaryIO.c</p>
<p>FILE COMPARED atphysics/atsuspension.c</p>
<p>FILE COMPARED atphysics/atswr.c</p>
<p>FILE COMPARED atphysics/attempsalt.c</p>
<p>FILE COMPARED atphysics/attracerIO.c</p>
<p>FILE COMPARED atphysics/attransport.c</p>
<p>FILE COMPARED atphysics/atvdiff.c</p>
<p>FILE COMPARED atphysics/atvertgeom.c</p>
<p>FILE COMPARED atphysics/atvmix.c</p>
<p>FILE COMPARED atSS3Link/atSS3DataGen.c void RecordHistF(MSEBoxModel <em>bm, int sp, int iyr); &lt; /</em> if(bm-&gt;CloseKinEst-&gt;UseCloseKin &amp;&amp; FunctGroupArray[ | if(bm-&gt;CloseKinEst-&gt;UseCloseKin &amp;&amp; FunctGroupArray[gr } <em>/ | } // Store historical F &lt; RecordHistF(bm, groupIndex, yearIndex); &lt; &lt; return; &lt; } &lt; &lt; //</em>********************************************************** &lt; // &lt; // Name: RecordHistF &lt; // Description: store F based on recorded catch and effort d &lt; // and get average of the 5 most recent years &lt; // &lt; // created : September 2023 Beth Fulton &lt; // &lt; //*********************************************************** &lt; void RecordHistF(MSEBoxModel <em>bm, int sp, int iyr) { &lt; int minYr, maxYr, ij, k, nf, n, r, sn, rn, den, stage, pi &lt; double avgPeriod = 0.0; &lt; double fishableBiomass = 0.0, avgF = 0.0, avgC = 0.0, spb &lt; &lt; for (ij = 0; ij &lt; bm-&gt;nbox; ij++) { &lt; if (bm-&gt;boxes[ij].type != BOUNDARY) { &lt; for (k = 0; k &lt; bm-&gt;boxes[ij].nz; k++) { &lt; bm-&gt;cell_vol = bm-&gt;boxes[ij].area </em> bm-&gt;boxes &lt; &lt; switch (FunctGroupArray[sp].groupAgeType) { &lt; case AGE_STRUCTURED: &lt; for (n = 0; n &lt; FunctGroupArray[sp].numCo &lt; sn = FunctGroupArray[sp].structNTrace &lt; rn = FunctGroupArray[sp].resNTracers[ &lt; den = FunctGroupArray[sp].NumsTracers &lt; stage = FunctGroupArray[sp].cohort_st &lt; spbiom = (bm-&gt;boxes[ij].tr[k][sn] + b &lt; &lt; /* Consideration per fishery <em>/ &lt; for (nf = 0; nf &lt; bm-&gt;K_num_fisheries &lt; sel = bm-&gt;selectivity[sp][nf][sta &lt; q = bm-&gt;SP_FISHERYprms[sp][nf][q_ &lt; &lt; fishableBiomass += sel </em> q * spbi &lt; } &lt; } &lt; break; &lt; case AGE_STRUCTURED_BIOMASS: &lt; for (n = 0; n &lt; FunctGroupArray[sp].numCo &lt; pid = FunctGroupArray[sp].totNTracers &lt; stage = FunctGroupArray[sp].cohort_st &lt; spbiom = bm-&gt;boxes[ij].tr[k][pid]; &lt; &lt; /* Consideration per fishery <em>/ &lt; for (nf = 0; nf &lt; bm-&gt;K_num_fisheries &lt; sel = bm-&gt;selectivity[sp][nf][sta &lt; q = bm-&gt;SP_FISHERYprms[sp][nf][q_ &lt; &lt; fishableBiomass += sel </em> q * spbi &lt; } &lt; } &lt; break; &lt; case BIOMASS: &lt; /* Do nothing <em>/ &lt; pid = FunctGroupArray[sp].totNTracers[0]; &lt; spbiom = bm-&gt;boxes[ij].tr[k][pid]; &lt; &lt; /</em> Consideration per fishery <em>/ &lt; for (nf = 0; nf &lt; bm-&gt;K_num_fisheries; nf &lt; sel = bm-&gt;selectivity[sp][nf][0]; &lt; q = bm-&gt;SP_FISHERYprms[sp][nf][q_id]; &lt; } &lt; fishableBiomass += sel </em> q * spbiom; &lt; &lt; break; &lt; } &lt; } &lt; } &lt; } &lt; &lt; for (nf = 0; nf &lt; bm-&gt;K_num_fisheries; nf++) { &lt; bm-&gt;RBCestimation.RBCspeciesArray[sp].Fhist[nf][iyr] &lt; for (r = 0; r &lt; bm-&gt;RBCestimation.RBCspeciesParam[sp] &lt; bm-&gt;RBCestimation.RBCspeciesArray[sp].Fhist[nf][i &lt; &lt; } &lt; } &lt; &lt; // Calculate the averages - over teh review period, which &lt; minYr = iyr - bm-&gt;RBCestimation.ReviewPeriod; &lt; avgPeriod = 0.0; &lt; if (minYr &lt; 0) { &lt; minYr = 0; &lt; } &lt; &lt; avgF = 0.0; &lt; avgC = 0.0; &lt; for (ij = minYr; ij &lt; (iyr + 1); ij++) { &lt; for (nf = 0; nf &lt; bm-&gt;K_num_fisheries; nf++) { &lt; avgF += bm-&gt;RBCestimation.RBCspeciesArray[sp].Fhi &lt; for (r = 0; r &lt; bm-&gt;RBCestimation.RBCspeciesParam &lt; avgC += bm-&gt;RBCestimation.RBCspeciesArray[sp] &lt; } &lt; } &lt; avgPeriod += 1.0; &lt; } &lt; avgF /= avgPeriod; &lt; avgC /= avgPeriod; &lt; &lt; bm-&gt;RBCestimation.RBCspeciesParam[sp][F_5yrAvg_id] = avgF &lt; bm-&gt;RBCestimation.RBCspeciesParam[sp][Catch_5yrAvg_id] = &lt;</p>
<p>FILE COMPARED atSS3Link/atSS3Link_2013.vcxproj.bec</p>
<p>FILE COMPARED atSS3Link/atSS3Link.c</p>
<p>FILE COMPARED atSS3Link/atSS3LinkIO.c if ((fiddat = fopen(outputFileName, “w”)) == NULL) { | if ((fiddat = fopen(outputFileName, “r”)) == NULL) { if ((fidctl = fopen(outputFileName, “w”)) == NULL) { | if ((fidctl = fopen(outputFileName, “r”)) == NULL) { if ((fidss = fopen(outputFileName, “w”)) == NULL) { | if ((fidss = fopen(outputFileName, “r”)) == NULL) { quit(“SS selectivity pattern (%d) for %s fleet %d | quit(”SS selectivity pattern not coded in“);</p>
<p>FILE COMPARED atSS3Link/atSS3Test.c</p>
<p>FILE COMPARED atSS3Link/atSS3Util.c</p>
<p>FILE COMPARED build_hpc</p>
<p>FILE COMPARED configure_mac</p>
<p>FILE COMPARED configure.ac</p>
<p>FILE COMPARED ConvertAtlantis/atAssesstoXML.c Create_RBC_Species_ParamXML(bm, fileName, fp, childGroupi &lt; Create_RBC_Species_ParamXML(bm, fileName, fp, childGroupi &lt;</p>
<p>FILE COMPARED ConvertAtlantis/atBioltoXML.c Util_XML_Parse_Create_Node(fp, fileName, groupingNode | Util_XML_Parse_Create_Node(fp, fileName, groupingNode</p>
<pre><code>Util_XML_Parse_Create_Node(fp, fileName, groupingNode, "f
                              &lt;
Util_XML_Get_Value_Integer(fileName, ATLANTIS_ATTRIBUTE, 
                              |     Util_XML_Get_Value_Integer(fileName, ATLANTIS_ATTRIBUTE, 
                            
Util_XML_Get_Value_Integer(fileName, ATLANTIS_ATTRIBUTE, 
                              |     if (bm-&gt;flagtempdepend) {
                            

                              &lt;
if (bm-&gt;flagtempdepend_move) {
                              &lt;

                              |     if (bm-&gt;flagtempdepend) {
                            
if (bm-&gt;flagtempdepend_reprod) {
                              &lt;
int numExpectedTokens = 17;
                              |     int numExpectedTokens = 16;
                            
        
                              &lt;
        /* Whether can reproduce while outside the model 
                              &lt;
        varStr = strtok(NULL, seps);
                              &lt;
        Util_XML_Create_Node(ATLANTIS_ATTRIBUTE, groupNod
                              &lt;
int start_stage, migrationID, start_tofy, end_tofy, mig_p
                              |     int start_stage, migrationID, start_tofy, end_tofy, mig_p
                            
        Util_XML_Get_Value_Integer(convertedXMLFileName, 
                              | 
                            
        
                              &lt;
        MIGRATION[speciesIndex].ReprodAllowedPrm[start_st
                              &lt;</code></pre>
<p>FILE COMPARED ConvertAtlantis/atCreateXML.c case trigger_threshold_id: &lt;</p>
<p>FILE COMPARED ConvertAtlantis/atEconomicXML.c</p>
<p>FILE COMPARED ConvertAtlantis/atFisheriesXML.c</p>
<p>FILE COMPARED ConvertAtlantis/atGroupsXML.c</p>
<p>FILE COMPARED ConvertAtlantis/atHarvesttoXML.c</p>
<p>FILE COMPARED ConvertAtlantis/atImplementationtoXML.c</p>
<p>FILE COMPARED ConvertAtlantis/atManagetoXML.c // Old verion when had fixed limit to the number of f | Parse_File( // Parse_File( bm, fp, fileName, groupingNode, “Companion | bm, Parse_File( bm, fp, fileName, groupingNode,”CompanionSpe | fp, &gt; fileName, &gt; groupingNode, &gt; “CompanionSpecies”, &gt; “^co_sp_[A-Z]{2,3}”, &gt; “Identity of companions in companion &gt;”“, XML_TYPE_INTEGERARRAY, -1, TRUE,</p>
<p>FILE COMPARED ConvertAtlantis/atRunXML.c Util_XML_Parse_Create_Node(fp, fileName, groupingNode, “f &lt; &lt;</p>
<p>FILE COMPARED ConvertAtlantis/ConvertAtlantis_2013.vcxproj.bec</p>
<p>FILE COMPARED externalLibs/win32_vs_dll_4.0.1-beta3.tar/netcdf.inc</p>
<p>FILE COMPARED netcdf/include/netcdf.inc</p>
<p>FILE COMPARED sjwlib/cfft.c</p>
<p>FILE COMPARED sjwlib/colourtable.c</p>
<p>FILE COMPARED sjwlib/contour.c</p>
<p>FILE COMPARED sjwlib/convertFileFormats.c</p>
<p>FILE COMPARED sjwlib/datafile.c</p>
<p>FILE COMPARED sjwlib/decay.c</p>
<p>FILE COMPARED sjwlib/dfcoords.c</p>
<p>FILE COMPARED sjwlib/dfeval.c</p>
<p>FILE COMPARED sjwlib/diffusion.c</p>
<p>FILE COMPARED sjwlib/drandom.c</p>
<p>FILE COMPARED sjwlib/ellipt_coord.c</p>
<p>FILE COMPARED sjwlib/erfc.c</p>
<p>FILE COMPARED sjwlib/geodetic.c</p>
<p>FILE COMPARED sjwlib/gridangle.c</p>
<p>FILE COMPARED sjwlib/gridmetric.c</p>
<p>FILE COMPARED sjwlib/gridmisc.c</p>
<p>FILE COMPARED sjwlib/keyfile.c</p>
<p>FILE COMPARED sjwlib/libsjwlib.pc</p>
<p>FILE COMPARED sjwlib/mapproj.c</p>
<p>FILE COMPARED sjwlib/memory.c</p>
<p>FILE COMPARED sjwlib/netcdf.c</p>
<p>FILE COMPARED sjwlib/nrcdflib.c</p>
<p>FILE COMPARED sjwlib/pointsourcesink.c</p>
<p>FILE COMPARED sjwlib/polar_coord.c</p>
<p>FILE COMPARED sjwlib/polyline.c</p>
<p>FILE COMPARED sjwlib/ppbfetch.c</p>
<p>FILE COMPARED sjwlib/ptrack.c</p>
<p>FILE COMPARED sjwlib/quit.c</p>
<p>FILE COMPARED sjwlib/rect_coord.c</p>
<p>FILE COMPARED sjwlib/sjwlib_2013.vcxproj.bec</p>
<p>FILE COMPARED sjwlib/spline.c</p>
<p>FILE COMPARED sjwlib/text_input.c</p>
<p>FILE COMPARED sjwlib/time.c</p>
<p>FILE COMPARED sjwlib/timeseries.c</p>
<p>FILE COMPARED sjwlib/txt_param.c</p>
<p>FILE COMPARED sjwlib/vgrid.c</p>
<p>FILE COMPARED sjwlib/warn.c</p>
<p>FILE COMPARED sjwlib/waterprops.c</p>
<p>FILE COMPARED sjwlib/weight_fn.c</p>
<p>FILE COMPARED sjwlib/win32.c</p>
<p>FILE COMPARED sjwlib/xytoij.c `</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../content/v6688.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">v6688</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../content/v6683.html" class="pagination-link">
        <span class="nav-page-text">v6683</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© CC-1.0</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/Atlantis-Ecosystem-Model/atlantismodelversionlog/edit/main/content/v6685.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/Atlantis-Ecosystem-Model/atlantismodelversionlog/blob/main/content/v6685.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/Atlantis-Ecosystem-Model/atlantismodelversionlog/issues/new" class="toc-action">Report an issue</a></p></div></div></div>
    <div class="nav-footer-right">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>